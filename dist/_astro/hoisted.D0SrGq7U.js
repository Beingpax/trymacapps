import"./hoisted._i988LdQ.js";document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{const n=document.getElementById("skeleton-container"),e=document.getElementById("regular-apps-container");n&&e&&(n.style.opacity="0",setTimeout(()=>{n.style.display="none",e.style.opacity="1",document.querySelectorAll(".regular-app").forEach((t,r)=>{setTimeout(()=>{requestAnimationFrame(()=>{t.classList.remove("opacity-0","translate-y-4"),t.classList.add("opacity-100","translate-y-0")})},r*100)})},300))},800)});class c{container;allCards;currentFilter="all";isAnimating=!1;constructor(){this.container=document.getElementById("regular-apps-container"),this.allCards=Array.from(document.querySelectorAll(".regular-app")),this.init()}init(){this.showInitialState(),this.listenToFilterChanges()}showInitialState(){this.allCards.forEach((e,t)=>{requestAnimationFrame(()=>{e.style.transition=`all 0.5s cubic-bezier(0.4, 0, 0.2, 1) ${t*50}ms`,e.style.opacity="1",e.style.transform="translateY(0)"})})}listenToFilterChanges(){document.addEventListener("filterChanged",e=>{const{filter:t,searchQuery:r}=e.detail;this.isAnimating||(this.currentFilter=t,this.handleFilterChange(t,r))})}async handleFilterChange(e,t=""){this.isAnimating=!0;let r;switch(e){case"search":r=this.handleSearch(t);break;case"latest":r=this.getLatestApps();break;case"all":default:r=[...this.allCards];break}r=this.sortCards(r,e),await this.updateDisplay(r),setTimeout(()=>{this.isAnimating=!1},350)}sortCards(e,t){return e.sort((r,s)=>{const l=r.querySelector(".app-card"),a=s.querySelector(".app-card");if(!l||!a)return 0;if(t==="latest"){const i=new Date(l.getAttribute("data-created-at")||"");return new Date(a.getAttribute("data-created-at")||"").getTime()-i.getTime()}else{const i=parseInt(l.getAttribute("data-sort-order")||"999"),o=parseInt(a.getAttribute("data-sort-order")||"999");return i-o}})}async updateDisplay(e){if(this.container){if(this.container.innerHTML="",e.length===0){const t=document.createElement("div");t.className="col-span-full text-center py-8 text-gray-500 dark:text-gray-400",t.textContent="No apps found",this.container.appendChild(t);return}e.forEach(t=>{t.style.transition="none",t.style.opacity="0",t.style.transform="translateY(10px)",this.container?.appendChild(t)}),this.container.offsetHeight,requestAnimationFrame(()=>{e.forEach(t=>{t.style.transition="all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",t.style.opacity="1",t.style.transform="translateY(0)"})})}}handleSearch(e){if(!e.trim())return[...this.allCards];const t=e.toLowerCase().trim().split(/\s+/);return this.allCards.filter(r=>{const s=r.querySelector(".app-card");if(!s)return!1;const l=[s.getAttribute("data-app-name"),s.getAttribute("data-app-description"),s.getAttribute("data-app-category")].map(a=>a?.toLowerCase()||"").join(" ");return t.every(a=>l.includes(a))})}getLatestApps(){const e=new Date;return e.setDate(e.getDate()-7),this.allCards.filter(t=>{const r=t.querySelector(".app-card");if(!r)return!1;const s=r.getAttribute("data-created-at");return s?new Date(s)>e:!1})}}setTimeout(()=>{new c},1200);function d(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>n(...r),e)}}document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("searchInput"),e=document.querySelectorAll(".filter-btn");let t="all";const r=d(a=>{l("search",a)},300);n?.addEventListener("input",a=>{const i=a.target.value.trim();r(i)}),e.forEach(a=>{a.addEventListener("click",()=>{n&&(n.value=""),e.forEach(i=>i.classList.remove("active","bg-primary/10","text-primary","dark:bg-primary/20")),a.classList.add("active","bg-primary/10","text-primary","dark:bg-primary/20"),t=a.getAttribute("data-filter")||"all",l(t)})}),n&&(document.addEventListener("keydown",a=>{a.key==="/"&&document.activeElement!==n&&(a.preventDefault(),n.focus()),a.key==="Escape"&&document.activeElement===n&&(n.value="",n.blur(),s())}),n.addEventListener("input",()=>{const a=n.value.trim();if(!a){s();return}e.forEach(i=>{i.classList.remove("active","bg-primary/10","text-primary","dark:bg-primary/20")}),l("search",a)}));function s(){const a=document.querySelector('[data-filter="all"]');a&&(e.forEach(i=>i.classList.remove("active","bg-primary/10","text-primary","dark:bg-primary/20")),a.classList.add("active","bg-primary/10","text-primary","dark:bg-primary/20")),l("all")}function l(a,i=""){const o=new CustomEvent("filterChanged",{detail:{filter:a,searchQuery:i}});document.dispatchEvent(o)}});
